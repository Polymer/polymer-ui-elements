<element name="x-stock-legend-item" attributes="label data color">
  <template>
    <style>
      @host {
        * {
          font-family: 'Helvetica Neue Medium', arial,sans-serif;
        }
      }
      .item {
        overflow:hidden;
      }
      .change {
        color: #3d9400;
      }

      .change.down {
        color: #dd4b39;
      }
      .price {
        color: rgba(0, 0, 0, 0.4);
        margin-right: 10px;
      }
      .label {
        float:left;
        position: relative;
        display:block;
      }
      .color {
        display:inline-block;
        width:16px;
        height:16px;
        margin-right:10px;
        margin-top:1px;
        border-radius: 3px;
      }
      .symbol {

      }
      .data {
        float:right;
      }
    </style>
    <div class="item">
      <span class="label">
        <span class="color" style="background-color: {{color}}"></span>
        <span class="symbol">{{label}}</span>
      </span>
      <div class="data">
        <span class="price">{{data.l}}</span>
        <span class="change {{data.change}}">{{data.c}} ({{data.cp}}%)</span>
      </div>
    </div>
  </template>

  <script>
    Toolkit.register(this, {
      color: '',
      colorChanged: function(){
        console.log('colorChanged');
        if(this.color) {
          console.log(this.color);
          // this.styleSheets[0].insertRule('.label:before { background-color: ' + this.color + '; }', 0);
        }

      },
      ready: function(){
        console.log(this.color);
      }
    });
  </script>
</element>